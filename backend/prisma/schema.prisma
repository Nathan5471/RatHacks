generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum AccountType {
  student
  judge
  organizer
}

enum GradeLevel {
  nine
  ten
  eleven
  twelve
  organizer
  judge
}

model User {
  id                     String      @id @default(uuid())
  email                  String      @unique
  emailToken             String
  emailVerified          Boolean     @default(false)
  lastResendEmailRequest DateTime?
  accountType            AccountType @default(student)
  password               String
  firstName              String
  lastName               String
  schoolDivision         String
  gradeLevel             GradeLevel
  isGovSchool            Boolean
  events                 String[] // Event Ids
  validAccessTokens      String[]
  validRefreshTokens     String[]
  createdAt              DateTime    @default(now())
}

model Event {
  id                 String   @id @default(uuid())
  name               String
  description        String
  startDate          DateTime
  endDate            DateTime
  submissionDeadline DateTime
  participants       String[] // User Ids
  createdBy          String // Organizer Id
  createdAt          DateTime @default(now())
}
